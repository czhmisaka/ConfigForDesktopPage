import{A as D,r as T,I as d,J as a,K as x,Z as w,X as B,N as b,O as c,U as v,W as O,V,_ as Q,a2 as R,Q as L,R as z,ae as _e,v as o,m as W,P as pe,a6 as X,k as ee,aJ as fe,w as te,aT as j,G as he,aU as ve,aV as me,a5 as H,a9 as ge,o as ne,H as P,ap as Y,n as ce,ai as Z,am as q,S as K,an as le,ao as G,u as ye,t as be,aE as xe,T as we,z as ae,aW as ke,aX as Ie,aY as $e,aZ as Ce,a_ as Ee}from"./index-51f9d840.js";import{d as Te,c as De,e as Se,u as oe,a as Be}from"./useDataThemeChange-4f5da68f.js";import{u as U}from"./hooks-d68a43b8.js";import re from"./userInfoCard-73a26d71.js";const se=[{key:"1",name:"\u901A\u77E5",list:[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"\u4F60\u6536\u5230\u4E86 12 \u4EFD\u65B0\u5468\u62A5",datetime:"\u4E00\u5E74\u524D",description:"",type:"1"}]}],Oe={class:"notice-container border-b-[1px] border-solid border-[#f0f0f0] dark:border-[#303030]"},Fe={class:"notice-container-text"},Me={class:"notice-text-title text-[#000000d9] dark:text-white"},Ne={class:"notice-text-datetime text-[#00000073] dark:text-white"},Le=D({__name:"noticeItem",props:{noticeItem:{type:Object,default:()=>{}}},setup(k){const t=k,l=T(null),s=T(!1),g=T(null),_=T(!1);function r(){Q(()=>{var p,e;((p=l.value)==null?void 0:p.scrollWidth)>((e=l.value)==null?void 0:e.clientWidth)?s.value=!0:s.value=!1})}function i(p,e){let f=document.createElement("span");f.innerText=e,f.className="getDescriptionWidth",document.querySelector("body").appendChild(f);let m=document.querySelector(".getDescriptionWidth").offsetWidth;document.querySelector(".getDescriptionWidth").remove();const n=p.target.offsetWidth;m>2*n?_.value=!0:_.value=!1}return(p,e)=>{var h,E;const f=d("el-avatar"),m=d("el-tooltip"),n=d("el-tag");return a(),x("div",Oe,[t.noticeItem.avatar?(a(),w(f,{key:0,size:30,src:t.noticeItem.avatar,class:"notice-container-avatar"},null,8,["src"])):B("",!0),b("div",Fe,[b("div",Me,[c(m,{"popper-class":"notice-title-popper",disabled:!s.value,content:t.noticeItem.title,placement:"top-start"},{default:v(()=>[b("div",{ref_key:"titleRef",ref:l,class:"notice-title-content",onMouseover:r},O(t.noticeItem.title),545)]),_:1},8,["disabled","content"]),(h=t.noticeItem)!=null&&h.extra?(a(),w(n,{key:0,type:(E=t.noticeItem)==null?void 0:E.status,size:"small",class:"notice-title-extra"},{default:v(()=>{var $;return[V(O(($=t.noticeItem)==null?void 0:$.extra),1)]}),_:1},8,["type"])):B("",!0)]),c(m,{"popper-class":"notice-title-popper",disabled:!_.value,content:t.noticeItem.description,placement:"top-start"},{default:v(()=>[b("div",{ref_key:"descriptionRef",ref:g,class:"notice-text-description",onMouseover:e[0]||(e[0]=$=>i($,t.noticeItem.description))},O(t.noticeItem.description),545)]),_:1},8,["disabled","content"]),b("div",Ne,O(t.noticeItem.datetime),1)])])}}});const Re=R(Le,[["__scopeId","data-v-bd3affb1"]]),Ae={key:0},Ve=D({__name:"noticeList",props:{list:{type:Array,default:()=>[]}},setup(k){const t=k;return(l,s)=>{const g=d("el-empty");return t.list.length?(a(),x("div",Ae,[(a(!0),x(L,null,z(t.list,(_,r)=>(a(),w(Re,{noticeItem:_,key:r},null,8,["noticeItem"]))),128))])):(a(),w(g,{key:1,description:"\u6682\u65E0\u6570\u636E"}))}}}),ze={class:"dropdown-badge navbar-bg-hover select-none"},He={class:"header-notice-icon"},Ue={class:"noticeList-container"},We=D({__name:"index",setup(k){const t=_e("dropdownDom",null),l=T(se[0].name),s=T(se);let g=T(0);s.value.forEach(r=>{g.value+=r.list.length});function _(){t.value.handleOpen()}return(r,i)=>{const p=d("IconifyIconOffline"),e=d("el-badge"),f=d("el-scrollbar"),m=d("el-dropdown-menu"),n=d("el-dropdown");return a(),w(n,{ref_key:"dropdownDom",ref:t,trigger:"click",placement:"bottom-end"},{dropdown:v(()=>[c(m,null,{default:v(()=>[c(o(Te),{centered:"",class:"dropdown-tabs",activeName:l.value,"onUpdate:activeName":i[0]||(i[0]=h=>l.value=h),onTabClick:_},{default:v(()=>[(a(!0),x(L,null,z(s.value,h=>(a(),w(o(De),{key:h.key,tab:`${h.name}(${h.list.length})`},{default:v(()=>[c(f,{"max-height":"330px"},{default:v(()=>[b("div",Ue,[c(Ve,{list:h.list},null,8,["list"])])]),_:2},1024)]),_:2},1032,["tab"]))),128))]),_:1},8,["activeName"])]),_:1})]),default:v(()=>[b("span",ze,[c(e,{value:o(g),max:99},{default:v(()=>[b("span",He,[c(p,{icon:"bell"})])]),_:1},8,["value"])])]),_:1},512)}}});const ie=R(We,[["__scopeId","data-v-89884804"]]),Pe={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",class:"iconify iconify--ant-design",width:"20",height:"20",viewBox:"0 0 1024 1024"},qe=b("path",{fill:"currentColor",d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 0 0 0 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"},null,-1),Je=[qe];function je(k,t){return a(),x("svg",Pe,[...Je])}const ue={render:je},Xe={class:"result"},Ye=["onMouseenter"],Ze={class:"result-item-title"},Ke=D({__name:"SearchResult",props:{value:{},options:{}},emits:["update:value","enter"],setup(k,{emit:t}){const l=k,s=t,g=W(()=>p=>({background:(p==null?void 0:p.path)===_.value?Se().epThemeColor:"",color:p.path===_.value?"#fff":"",fontSize:p.path===_.value?"16px":"14px"})),_=W({get(){return l.value},set(p){s("update:value",p)}});async function r(p){_.value=p.path}function i(){s("enter")}return(p,e)=>(a(),x("div",Xe,[(a(!0),x(L,null,z(p.options,f=>{var m,n,h;return a(),x("div",{key:f.path,class:"result-item dark:bg-[#1d1d1d]",style:pe(g.value(f)),onClick:i,onMouseenter:E=>r(f)},[(a(),w(X(o(U)((n=(m=f.meta)==null?void 0:m.icon)!=null?n:"bookmark-2-line")))),b("span",Ze,O((h=f.meta)==null?void 0:h.title),1),c(o(ue))],44,Ye)}),128))]))}});const Ge=R(Ke,[["__scopeId","data-v-f7e6504d"]]),Qe={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",class:"iconify iconify--mdi",width:"20",height:"20",viewBox:"0 0 24 24"},et=b("path",{fill:"currentColor",d:"M1 7h6v2H3v2h4v2H3v2h4v2H1V7m10 0h4v2h-4v2h2a2 2 0 0 1 2 2v2c0 1.11-.89 2-2 2H9v-2h4v-2h-2a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2m8 0h2a2 2 0 0 1 2 2v1h-2V9h-2v6h2v-1h2v1c0 1.11-.89 2-2 2h-2a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2Z"},null,-1),tt=[et];function nt(k,t){return a(),x("svg",Qe,[...tt])}const ot={render:nt},at={class:"search-footer text-[#333] dark:text-white"},st={class:"search-footer-item"},ct={class:"search-footer-item"},lt={class:"search-footer-item"},rt=D({__name:"SearchFooter",setup(k){return(t,l)=>{const s=d("IconifyIconOffline");return a(),x("div",at,[b("span",st,[c(o(ue),{class:"icon"}),V(" \u786E\u8BA4 ")]),b("span",ct,[c(s,{icon:"arrow-up-line",class:"icon"}),c(s,{icon:"arrow-down-line",class:"icon"}),V(" \u5207\u6362 ")]),b("span",lt,[c(o(ot),{class:"icon"}),V(" \u5173\u95ED ")])])}}});const it=R(rt,[["__scopeId","data-v-8e335b61"]]),ut={class:"el-input__icon"},dt={class:"search-result-container"},_t=D({__name:"SearchModal",props:{value:{type:Boolean}},emits:["update:value"],setup(k,{emit:t}){const{device:l}=oe(),s=t,g=k,_=ee(),r=T(""),i=T(""),p=T(null),e=fe([]),f=he(E,300),m=W(()=>ve(me(H().wholeMenus))),n=W({get(){return g.value},set(I){s("update:value",I)}});te(n,async I=>{var y;I&&(await Q(),(y=p.value)==null||y.focus())});function h(I){const y=[];function C(N){N.forEach(A=>{y.push(A),A.children&&C(A.children)})}return C(I),y}function E(){var y;const I=h(m.value);e.value=I.filter(C=>{var N;return r.value&&((N=C.meta)==null?void 0:N.title.toLocaleLowerCase().includes(r.value.toLocaleLowerCase().trim()))}),((y=e.value)==null?void 0:y.length)>0?i.value=e.value[0].path:i.value=""}function $(){n.value=!1,setTimeout(()=>{e.value=[],r.value=""},200)}function F(){const{length:I}=e.value;if(I===0)return;const y=e.value.findIndex(C=>C.path===i.value);y===0?i.value=e.value[I-1].path:i.value=e.value[y-1].path}function M(){const{length:I}=e.value;if(I===0)return;const y=e.value.findIndex(C=>C.path===i.value);y+1===I?i.value=e.value[0].path:i.value=e.value[y+1].path}function S(){const{length:I}=e.value;I===0||i.value===""||(_.push(i.value),$())}return j("Enter",S),j("ArrowUp",F),j("ArrowDown",M),(I,y)=>{const C=d("IconifyIconOffline"),N=d("el-input"),A=d("el-empty"),J=d("el-dialog");return a(),w(J,{top:"5vh",width:o(l)==="mobile"?"80vw":"50vw",modelValue:n.value,"onUpdate:modelValue":y[2]||(y[2]=u=>n.value=u),"before-close":$},{footer:v(()=>[c(it)]),default:v(()=>[c(N,{ref_key:"inputRef",ref:p,modelValue:r.value,"onUpdate:modelValue":y[0]||(y[0]=u=>r.value=u),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",onInput:o(f)},{prefix:v(()=>[b("span",ut,[c(C,{icon:"search"})])]),_:1},8,["modelValue","onInput"]),b("div",dt,[e.value.length===0?(a(),w(A,{key:0,description:"\u6682\u65E0\u641C\u7D22\u7ED3\u679C"})):(a(),w(Ge,{key:1,value:i.value,"onUpdate:value":y[1]||(y[1]=u=>i.value=u),options:e.value,onClick:S},null,8,["value","options"]))])]),_:1},8,["width","modelValue"])}}});const pt=R(_t,[["__scopeId","data-v-cfb07af7"]]);function ft(k=!1){const t=T(k);function l(r){t.value=r}function s(){l(!0)}function g(){l(!1)}function _(){l(!t.value)}return{bool:t,setBool:l,setTrue:s,setFalse:g,toggle:_}}const ht=D({__name:"index",setup(k){const{bool:t,toggle:l}=ft();function s(){l()}return(g,_)=>{const r=d("IconifyIconOffline");return a(),x(L,null,[b("div",{class:"search-container w-[40px] h-[48px] flex-c cursor-pointer navbar-bg-hover",onClick:s},[c(r,{icon:"search"})]),c(o(pt),{value:o(t),"onUpdate:value":_[0]||(_[0]=i=>ge(t)?t.value=i:null)},null,8,["value"])],64)}}}),vt={key:0,class:"horizontal-header"},mt={class:"select-none"},gt={class:"horizontal-header-right"},yt={class:"el-dropdown-link navbar-bg-hover select-none"},bt={key:0,class:"dark:text-white"},xt=D({__name:"mixNav",setup(k){const t=T();let l=T(null);const{route:s,device:g,routers:_,logout:r,onPanel:i,menuSelect:p,resolvePath:e,username:f,avatarsStyle:m}=oe();function n(M){var y,C;const S=H().wholeMenus,I=le(M,S)[0];l.value=(C=(y=G(I,S))==null?void 0:y.children[0])==null?void 0:C.path}ne(()=>{n(s.path)}),Q(()=>{var M;(M=t.value)==null||M.handleResize()}),te(()=>[s.path,H().wholeMenus],()=>{n(s.path)});const{moduleList:h,checkModule:E}=P(),{nowModule:$}=Y(P()),F=ce({data:null,userTemplate:[]});return F.data=async()=>await Z().getOptions(),(M,S)=>{const I=d("FontIcon"),y=d("el-menu-item"),C=d("el-menu"),N=d("cardBg"),A=d("el-dropdown"),J=d("IconifyIconOffline");return o(g)!=="mobile"?(a(),x("div",vt,[c(C,{router:"",ref_key:"menuRef",ref:t,mode:"horizontal",class:"horizontal-header-menu","default-active":o(l),onSelect:S[0]||(S[0]=u=>o(p)(u,o(_)))},{default:v(()=>[(a(!0),x(L,null,z(o(H)().wholeMenus,u=>(a(),w(y,{key:u.path,index:o(e)(u)||u.redirect},{title:v(()=>[q(u.meta.icon)?(a(),x("div",{key:0,class:K(["sub-menu-icon",u.meta.icon])},[(a(),w(X(o(U)(u.meta&&q(u.meta.icon)))))],2)):B("",!0),b("span",mt,O(u.meta.title),1),u.meta.extraIcon?(a(),w(I,{key:1,width:"30px",height:"30px",style:{position:"absolute",right:"10px"},icon:u.meta.extraIcon.name,svg:!!u.meta.extraIcon.svg},null,8,["icon","svg"])):B("",!0)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"]),b("div",gt,[c(ht),c(ie,{id:"header-notice"}),c(A,{trigger:"click"},{dropdown:v(()=>[c(re,{class:"userInfoCard",userInfo:F.data,showTemplate:F.userTemplate},null,8,["userInfo","showTemplate"]),(a(!0),x(L,null,z(o(h),(u,de)=>(a(),w(N,{class:K(`modulesItem ${o($).name==u.name?"modulesItem_active":""}`),"cus-style":{display:"flex",backgroundImage:`linear-gradient(135deg, ${u.icon[0]=="{"?JSON.parse(u.icon).color:"rgba(0,0,0,0.05)"} -200%, rgba(0,0,0,0) 40%)`,backdropFilter:"saturate(50%) blur(4px)"},onClick:Lt=>o($).name!=u.name?o(E)(de):""},{default:v(()=>[(a(),w(X(o(U)(u.icon[0]=="{"?JSON.parse(u.icon):o(U)(u.icon))),{size:"16px",style:{margin:"2px 6px 0px 0px",lineHeight:"1em"}})),V(" "+O(u.name),1)]),_:2},1032,["class","cus-style","onClick"]))),256))]),default:v(()=>[b("span",yt,[o(f)?(a(),x("p",bt,O(o(f)),1)):B("",!0)])]),_:1}),b("span",{class:"set-icon navbar-bg-hover",title:"\u6253\u5F00\u9879\u76EE\u914D\u7F6E",onClick:S[1]||(S[1]=(...u)=>o(i)&&o(i)(...u))},[c(J,{icon:"setting"})])])])):B("",!0)}}});const wt=R(xt,[["__scopeId","data-v-244367e5"]]),kt=["onClick"],It=D({__name:"breadCrumb",setup(k){const t=ye(),l=T([]),s=ee(),g=s.options.routes,_=be().multiTags,r=e=>{const f=e&&e.name;return f?f.trim().toLocaleLowerCase()==="Welcome".toLocaleLowerCase():!1},i=()=>{let e;Object.keys(t.query).length>0?_.forEach(n=>{ae(t.query,n==null?void 0:n.query)&&(e=q(n))}):Object.keys(t.params).length>0?_.forEach(n=>{ae(t.params,n==null?void 0:n.params)&&(e=q(n))}):e=G(s.currentRoute.value.path,_);const f=le(s.currentRoute.value.path,g);let m=[];f.forEach(n=>{n!=="/"&&m.push(G(n,g))}),(e==null?void 0:e.path)!=="/welcome"&&m.push(e),r(m[0])||(m=[].concat(m)),m.forEach((n,h)=>{(e==null?void 0:e.query)||(e==null?void 0:e.params)||n!=null&&n.children&&n.children.forEach(E=>{var $,F;(($=E==null?void 0:E.meta)==null?void 0:$.title)===((F=n==null?void 0:n.meta)==null?void 0:F.title)&&m.splice(h,1)})}),l.value=m.filter((n,h)=>h>0?(n==null?void 0:n.meta)&&(n==null?void 0:n.meta.title)!==!1:!1)},p=e=>{const{redirect:f,path:m}=e;f?s.push(f):s.push(m)};return ne(()=>{i()}),te(()=>t.path,()=>{i()}),(e,f)=>{const m=d("el-breadcrumb-item"),n=d("el-breadcrumb");return a(),w(n,{class:"!leading-[50px] select-none",separator:"/"},{default:v(()=>[c(xe,{appear:"",name:"breadcrumb"},{default:v(()=>[(a(!0),x(L,null,z(l.value,h=>(a(),w(m,{key:h.path},{default:v(()=>[b("a",{onClick:we(E=>p(h),["prevent"])},O(h.meta.title),9,kt)]),_:2},1024))),128))]),_:1})]),_:1})}}}),$t=["title"],Ct=D({__name:"topCollapse",props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(k,{emit:t}){const l=k,s=t,g=()=>{s("toggleClick")};return(_,r)=>{const i=d("IconifyIconOffline");return a(),x("div",{class:"px-3 mr-1 navbar-bg-hover",title:l.isActive?"\u70B9\u51FB\u6298\u53E0":"\u70B9\u51FB\u5C55\u5F00",onClick:g},[c(i,{icon:l.isActive?"menu-fold":"menu-unfold",class:"inline-block align-middle hover:text-primary dark:hover:!text-white"},null,8,["icon"])],8,$t)}}}),Et=D({__name:"modulesLIst",setup(k){const{moduleList:t,checkModule:l}=Y(P()),{nowModule:s}=Y(P());return(g,_)=>(a(!0),x(L,null,z(o(t),(r,i)=>(a(),w(ke,{class:K(`modulesItem ${o(s).name==r.name?"modulesItem_active":""}`),"cus-style":{display:"flex",backgroundImage:`linear-gradient(135deg, ${r.icon&&r.icon[0]=="{"?JSON.parse(r.icon).color:"rgba(0,0,0,0.05)"} -150%, rgba(0,0,0,0) 50%)`,backdropFilter:"saturate(50%) blur(4px)"},onClick:p=>o(s).name!=r.name?o(l)(i,"/",!0):""},{default:v(()=>[V(O(r.name),1)]),_:2},1032,["class","cus-style","onClick"]))),256))}});const Tt=R(Et,[["__scopeId","data-v-2655a819"]]),Dt={class:"search-container w-[40px] h-[48px] flex-c cursor-pointer navbar-bg-hover"},St=D({__name:"modulesTag",setup(k){return(t,l)=>{const s=d("el-icon"),g=d("el-dropdown");return a(),w(g,{trigger:"click"},{dropdown:v(()=>[c(Tt)]),default:v(()=>[b("div",Dt,[c(s,null,{default:v(()=>[c(o(Ie))]),_:1})])]),_:1})}}}),Bt={class:"navbar bg-[#fff] shadow-sm shadow-[rgba(0, 21, 41, 0.08)] dark:shadow-[#0d0d0d]"},Ot={key:3,class:"vertical-header-right"},Ft={class:"el-dropdown-link navbar-bg-hover select-none"},Mt={key:0,class:"dark:text-white"},Nt=D({__name:"navbar",setup(k){Be();const{layout:t,device:l,logout:s,onPanel:g,pureApp:_,username:r,avatarsStyle:i,toggleSideBar:p}=oe(),e=ce({data:null,userTemplate:[]});e.data=async()=>await Z().getOptions(),ne(async()=>{}),ee();const f=Z().getLogOutBtn(),m=$e("\u4E2A\u4EBA\u4E2D\u5FC3",Ee.Function,{icon:"UserFilled",elType:"primary",function:async(n,h)=>{Ce.warning("\u7EC4\u4EF6\u6B63\u5728\u5F00\u53D1\u4E2D")}});return(n,h)=>{const E=d("ArrowDown"),$=d("el-icon"),F=d("el-dropdown"),M=d("IconifyIconOffline");return a(),x("div",Bt,[o(l)==="mobile"?(a(),w(Ct,{key:0,class:"hamburger-container","is-active":o(_).sidebar.opened,onToggleClick:o(p)},null,8,["is-active","onToggleClick"])):B("",!0),o(t)!=="mix"&&o(l)!=="mobile"?(a(),w(It,{key:1,class:"breadcrumb-container"})):B("",!0),o(t)==="mix"?(a(),w(wt,{key:2})):B("",!0),o(t)==="vertical"?(a(),x("div",Ot,[c(St),c(ie,{id:"header-notice"}),c(F,{trigger:"click"},{dropdown:v(()=>[c(re,{class:"userInfoCard",userInfo:e.data,showTemplate:e.userTemplate,"main-action-btn-list":[o(m)],btnList:[o(f)]},null,8,["userInfo","showTemplate","main-action-btn-list","btnList"])]),default:v(()=>[b("span",Ft,[o(r)?(a(),x("p",Mt,[V(O(o(r))+" ",1),c($,{style:{transform:"translateY(2px)"}},{default:v(()=>[c(E)]),_:1})])):B("",!0)])]),_:1}),b("span",{class:"set-icon navbar-bg-hover",title:"\u6253\u5F00\u9879\u76EE\u914D\u7F6E",onClick:h[0]||(h[0]=(...S)=>o(g)&&o(g)(...S))},[c(M,{icon:"setting"})])])):B("",!0)])}}});const Ht=R(Nt,[["__scopeId","data-v-b4b81a80"]]);export{ie as N,ht as _,Ht as a};
